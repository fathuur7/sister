# ============================================
# CLUSTER CONFIGURATION
# ============================================

# --- PostgreSQL Cluster ---
POSTGRES_USER=postgres
POSTGRES_PASSWORD=123789
POSTGRES_DB=transvidio
POSTGRES_REPLICATION_USER=replicator
POSTGRES_REPLICATION_PASSWORD=123789

# PostgreSQL Master
POSTGRES_MASTER_HOST=postgres-master
POSTGRES_MASTER_PORT=5432

# PostgreSQL Slaves
POSTGRES_SLAVE1_HOST=postgres-slave1
POSTGRES_SLAVE1_PORT=5433
POSTGRES_SLAVE2_HOST=postgres-slave2
POSTGRES_SLAVE2_PORT=5434

# --- Redis Cluster ---
REDIS_PASSWORD=your_redis_password_here
REDIS_MASTER_HOST=redis-master
REDIS_MASTER_PORT=6379
REDIS_SLAVE1_PORT=6380
REDIS_SLAVE2_PORT=6381

# Redis Sentinel
SENTINEL_QUORUM=2
SENTINEL_DOWN_AFTER=5000
SENTINEL_FAILOVER_TIMEOUT=10000

# --- MPI Cluster ---
MPI_MASTER_HOST=mpi-master
MPI_WORKER_COUNT=2

# --- Backend Services ---
BACKEND_REPLICAS=3
BACKEND_PORT=8000

# Whisper Model Configuration
WHISPER_MODEL=base

# --- Nginx Load Balancer ---
NGINX_PORT=80
NGINX_SSL_PORT=443

# --- Application ---
FLASK_ENV=production
DEBUG=false

# Cache Settings
CACHE_TYPE=redis
CACHE_DEFAULT_TIMEOUT=3600

# --- Resource Limits ---
# PostgreSQL
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB

# Redis
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# --- Cloudinary (Optional) ---
# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=your_api_key
# CLOUDINARY_API_SECRET=your_api_secret

# --- Security ---
# Generate dengan: openssl rand -hex 32
SECRET_KEY=change_this_to_random_secret_key_in_production
JWT_SECRET_KEY=change_this_jwt_secret_key_in_production
